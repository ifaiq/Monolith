<div *ngxPermissionsOnly="['*', 'C_LOC']">
    <div class="row">
        <div class="col-12">
            <div class="page-title">
                <span class="h1">Create Location</span>
            </div>
        </div>
    </div>
    <div class="row mb-20">
        <div class="col-12 col-sm-6">
            <div class="form-group">
                <label for="">Business Location</label>
                <input type="text" class="form-control" placeholder="Enter Location" [(ngModel)]="location.name">
            </div>
        </div>
        <div class="col-12 col-sm-6">
            <div class="form-group fg1">
                <label class="d-block">Status</label>
                <div class="cutom-switch">
                    <label> Enabled </label>
                    <ui-switch class="switchHolder" [(ngModel)]="location.disabled" color="#e65400" size="small"
                        checkedLabel="on" reverse>
                    </ui-switch>
                    <label> Disabled </label>
                </div>
            </div>
        </div>
        <div class="col-12 col-sm-6">
            <div>
                <label>Select Service Charge Type</label>
                <select [(ngModel)]="location.service_charge_type" name="service_charge_type" class="form-control">
                    <option [value]="'FLAT'">Flat</option>
                    <!-- <option [value]="'PERCENTAGE'">Percentage</option> -->
                </select>
            </div>
        </div>
        <div class="col-12 col-sm-6">
            <div class="form-group">
                <label for="">Service Charge Value</label>
                <input type="number" class="form-control" placeholder="Enter Service Charge Value"
                    [(ngModel)]="location.service_charge_value" (change)="checkPositive('service_charge_value')">
            </div>
        </div>
        <div class="col-12 col-sm-6">
            <div>
                <label>Select Delivery Charge Type</label>
                <select [(ngModel)]="location.delivery_charge_type" name="delivery_charge_type" class="form-control">
                    <option [value]="'FLAT'">Flat</option>
                    <!-- <option [value]="'PERCENTAGE'">Percentage</option> -->
                </select>
            </div>
        </div>
        <div class="col-12 col-sm-6">
            <div class="form-group">
                <label for="">Delivery Charge Value</label>
                <input type="number" class="form-control" placeholder="Enter Delivery Charge Value"
                    [(ngModel)]="location.delivery_charge_value" (change)="checkPositive('delivery_charge_value')">
            </div>
        </div>
        <div class="col-12 col-sm-6" *ngxPermissionsOnly="['*', 'L_ALL_COMP']">
            <div>
                <label>Select Company</label>
                <select [(ngModel)]="location.company_id" name="company_id" class="form-control"
                    (change)="getbusinessUnits()">
                    <option *ngFor="let company of companies" [value]="company.id">{{company.name}}</option>
                </select>
            </div>
        </div>
        <div class="col-12 col-sm-6" *ngxPermissionsOnly="['*', 'L_BU']">
            <div>
                <label>Select Business Unit</label>
                <select [(ngModel)]="location.business_unit_id" name="business_unit_id" class="form-control">
                    <option *ngFor="let unit of business_units" [value]="unit.id">{{unit.name}}</option>
                </select>
            </div>
        </div>
        <div class="col-12 col-sm-6 mt-20">
            <div class="form-group">
                <label for="">Warehouse Address</label>
                <input type="text" class="form-control" placeholder="Enter Address" [(ngModel)]="location.warehouse_address">
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-4 mb-10">
            <div class="uploadedImage mb-20">
                <img src={{location.image_url}} class="mb-10">
                <div class="upload-file-wrapper">
                    <input *ngIf="!imageFileName" type="file" class="mb-10" (change)="onFileChange($event)" #fileInput
                        placeholder="Upload Image..." class="uploadFileshere" />
                    <div *ngIf="imageFileName">
                        <label>
                            <div>{{imageFileName}} <i class="removeFile fa fa-close" (click)="removeFile()"
                                    style="font-size:20px;color:red"></i>
                            </div>
                        </label>
                    </div>
                    <button type="button" class="btn btn-secondary btn-text" *ngIf="imageFileName"
                        (click)="uploadFile(i)"><span>Upload</span></button>
                </div>
            </div>
        </div>
    </div>
    <!-- <store-timing [location]="location"></store-timing> -->
    <div class="row">
        <div class="col-12">
            <div class="button-wrapper text-right mt-20">
                <button class="btn btn-primary btn-text" (click)="createLocation()"><span>Create</span></button>
            </div>
        </div>
    </div>
</div>